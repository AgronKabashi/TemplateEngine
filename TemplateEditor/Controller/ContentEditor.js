define(["../App.js","jquery-mCustomScrollbar"],function(a){a.controller("Cerberus.Tool.TemplateEditor.Controller.ContentEditor",["$scope","$location","$stateParams","Cerberus.Tool.TemplateEditor.Localization","Cerberus.Tool.TemplateEngine.Service.Template","Cerberus.Tool.TemplateEditor.Service.History","Cerberus.Tool.TemplateEngine.Service.DataBag",function(a,b,c,d,e,f,g){var h=~~c.TemplateId,i=~~c.DocumentId,j=~~c.DocumentTypeId,k=b;a.Localization=d,g.AddData("TemplateMode",TemplateMode.EditContent),g.AddData("Template",e.GetDocument(h,i,j)),a.Save=function(){return e.SaveDocument(g.GetData("Template"),i,j)},a.Exit=function(){var a=k.search().ExitUrl||"/";window.location.href=a},a.SaveExit=function(){this.Save().then(function(){a.Exit()})}}])});