define(["../../../App.js","../../../Directive/TreeView.js","/Module/CMS/Service/Folder.js"],function(a){var b="Cerberus.Tool.TemplateEditor.Controller.ControlPluginEditor.Navigation.ArticleList";return a.controller(b,["$scope","$injector","Cerberus.Tool.TemplateEditor.Localization",function(a,b,c){a.Localization=c,a.ControlData=JSON.tryParse(a.SelectedTemplateControl.Content,new Cerberus.Tool.TemplateEngine.Model.ControlPlugin.Navigation.ArticleList),a.ArticleListTypes=Cerberus.Tool.TemplateEngine.Model.ControlPlugin.Navigation.ArticleListType,a.FolderService=b.get("Cerberus.Module.CMS.Service.Folder"),a.TreeViewData={FolderId:a.ControlData.FolderId},a.FolderService.GetFolderHierarchyAsIdArray(a.ControlData.FolderId,function(b){a.TreeViewData.ExpandFolderList=b}),a.$watch("TreeViewData.FolderId",function(){a.ControlData.FolderId!=a.TreeViewData.FolderId&&(a.ControlData.FolderId=a.TreeViewData.FolderId)}),a.$watch("ControlData",function(){a.SelectedTemplateControl.Content=JSON.stringify({FolderId:~~a.ControlData.FolderId,ShowImage:a.ControlData.ShowImage,ShowTitle:a.ControlData.ShowTitle,ShowDescription:a.ControlData.ShowDescription,ShowMoreLink:a.ControlData.ShowMoreLink,MoreLabel:a.ControlData.MoreLabel,MaxArticles:a.ControlData.MaxArticles,ListMode:a.ControlData.ListMode})},!0)}]),b});