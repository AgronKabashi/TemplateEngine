define(["../App.js"],function(a){return a.directive("templatecontrolproperties",["Cerberus.Tool.TemplateEditor.Helper.CSS",function(a){return{restrict:"E",templateUrl:"View/TemplateControlProperties.html",link:function(a,b){b.click(function(a){a.stopPropagation()});var c=b.find(".template-control-properties-container");c.resizable({minWidth:150,handles:"w"}).mCustomScrollbar({theme:"dark",scrollInertia:150,contentTouchScroll:!0,advanced:{updateOnContentResize:!0}}),b.find(".quick-navigation-container > a").click(function(){var a=$(this).attr("data-navigateTo");c.mCustomScrollbar("scrollTo",String.format("[name={0}]",a))})},controller:["$scope","$controller","Cerberus.Tool.TemplateEditor.Localization","Cerberus.Tool.TemplateEditor.Service.StyleSetting","Cerberus.Tool.TemplateEditor.Service.PathResolver",function(b,c,d,e){var f=!1,g=function(c,d){d&&b.SelectedTemplateControl==d&&!f&&(b.VisualProperties=a.FromCss(b.SelectedTemplateControl.VisualProperties))};b.Localization=d,b.EditorUrl="",b.FontFamilies=e.GetAvailableFontFamilies(),b.BorderStyles=e.GetBorderStyles(),b.BackgroundImageRepeatOptions=e.GetBackgroundImageRepeatOptions(),b.BackgroundPositionHorizontalOptions=e.GetBackgroundPositionHorizontalOptions(),b.BackgroundPositionVerticalOptions=e.GetBackgroundPositionVerticalOptions(),b.BackgroundSizeOptions=e.GetBackgroundSizeOptions(),b.PropertyChanged=function(){b.SelectedTemplateControl&&(b.SelectedTemplateControl.VisualProperties=a.ToCss(b.VisualProperties),f=!0,b.$broadcast("TemplateControlUpdated",b.SelectedTemplateControl),f=!1)},b.EditorLoaded=function(){b.HasEditor=!0},b.ToggleTemplateControlVisibility=function(){b.$emit("TemplateControlVisibilityChanged",b.SelectedTemplateControl,"none"!=b.VisualProperties.display)},b.Transpose=function(a,c,d){var e=b[a]?d:c,f=b[a]?c:d,g=b.VisualProperties[e];b[a]=!b[a],delete b.VisualProperties[e],b.VisualProperties[f]=g,b.PropertyChanged()},b.$on("TemplateControlUpdated",g),b.$on("TemplateControlUpdating",g),b.$on("ResolutionSelected",function(){b.SelectedTemplateControl&&(b.VisualProperties=a.FromCss(b.SelectedTemplateControl.VisualProperties),b.IsTransposedHorizontal=void 0!=b.VisualProperties.right,b.IsTransposedVertical=void 0!=b.VisualProperties.bottom)}),b.$on("TemplateControlSelected",function(d,e){var f=null!=e&&1==e.length?e[0]:null;if(b.SelectedTemplateControl=f,f){b.VisualProperties=a.FromCss(b.SelectedTemplateControl.VisualProperties),b.IsTransposedHorizontal=void 0!=b.VisualProperties.right,b.IsTransposedVertical=void 0!=b.VisualProperties.bottom;var g="./{0}/ControlPluginEditor/{1}/{2}.{3}",h=String.format(g,"Controller",f.Category,f.ControlName,"js"),i=String.format(g,"View",f.Category,f.ControlName,"html");b.HasEditor=!1,require([h],function(a){b.EditorController=c(a,{$scope:b}),b.EditorViewPath=i,b.HasEditor=!0,b.$digest()})}})}]}}])});