define(["angular"],function(a){return a.module("Cerberus.Tool.TemplateEditor.Helper.CSS",[]).service("Cerberus.Tool.TemplateEditor.Helper.CSS",function(){this.FromCss=function(a){for(var b=a.split(";"),c={},d=0;d<b.length;d++){var e=b[d].split(":",1)[0];if(e&&b[d].length>e.length){var f=b[d].substring(e.length+1);e=e.toLowerCase().replace(/-([A-Z])/gi,function(a){return a[1].toUpperCase()}),c[e.trim()]=f.trim()}}if(null!=c.backgroundImage){var g=c.backgroundImage;g=g.replace(/url\(/i,""),")"==g[g.length-1]&&(g=g.substr(0,g.length-1)),c.backgroundImage=g}if(null!=c.boxShadow){var h=c.boxShadow.trim().split(/,(?![^\(]*\))/);if(h.length>0){var i=h[0],j=i.match(/^rgba?\([^\)]+\)/i)||i.match(/^#[0-9a-f]+/i)||i.match(/^[a-z]+/i),k=i.replace(/^rgba?\([^\)]+\)/i,"").replace(/^#[0-9a-f]+/i,"").replace(/^[a-z]+/i,"").trim().split(" ");c.boxShadow={},c.boxShadow.color=j,c.boxShadow.hShadow=k[0]||"",c.boxShadow.vShadow=k[1]||"",c.boxShadow.blurRadius=k[2]||"",c.boxShadow.spreadRadius=k[3]||"",c.boxShadow.inset=k[4]&&k[4].length>0}}if(null!=c.textShadow){var l=c.textShadow.trim().split(/,(?![^\(]*\))/);if(l.length>0){var m=l[0],j=m.match(/^rgba?\([^\)]+\)/i)||m.match(/^#[0-9a-f]+/i)||m.match(/^[a-z]+/i),k=m.replace(/^rgba?\([^\)]+\)/i,"").replace(/^#[0-9a-f]+/i,"").replace(/^[a-z]+/i,"").trim().split(" ");c.textShadow={},c.textShadow.color=j,c.textShadow.hShadow=k[0]||"",c.textShadow.vShadow=k[1]||"",c.textShadow.blurRadius=k[2]||""}}if(c.transform||c.WebkitTransform){var n=("undefined"==c.transform?c.WebkitTransform:c.transform)||"";if(c.transform={rotateZ:""},n){var o=n.match(/rotateZ\([^\)]+\)/i);o.length>0&&(c.transform.rotateZ=o[0].toLowerCase().replace("rotatez(","").replace(")",""))}}return c},this.ToCss=function(a){var b=[],c="",d="";for(var e in a){switch(c=e.replace(/([A-Z])/g,"-$1").toLowerCase(),d="",c){case"box-shadow":var f=a[e].color;f&&(d=String.format("{0} {1} {2} {3} {4} {5}",f,a[e].hShadow||"0px",a[e].vShadow||"0px",a[e].blurRadius||"0px",a[e].spreadRadius||"0px",~~a[e].inset?"inset":""));break;case"background-image":a[e].length>0&&(d=String.format("url({0})",a[e]));break;case"text-shadow":var f=a[e].color;f&&(d=String.format("{0} {1} {2} {3}",f,a[e].hShadow||"0px",a[e].vShadow||"0px",a[e].blurRadius||"0px"));break;case"transform":a[e].rotateZ&&(d=String.format("rotateZ({0})",a[e].rotateZ),b.push(String.format("-webkit-transform:{0}",d)));break;case"-webkit-transform":a[e].rotateZ&&(d=String.format("rotateZ({0})",a[e].rotateZ),b.push(String.format("transform:{0}",d)));break;default:d=a[e]}d&&d.length>0&&b.push(String.format("{0}:{1}",c,d))}return b.join(";")}})});