namespace("Cerberus.Tool.TemplateEngine.Model.ControlPlugin.SocialMedia").RSS=function(){this.RSSFeedUrl="",this.ShowTitle=!0,this.ShowDescription=!0,this.ShowStoryDescription=!0,this.ShowStoryDate=!0,this.MaxStories=5},angular.module("Cerberus.Tool.TemplateEngine").controller("Cerberus.Tool.TemplateEngine.Controller.ControlPlugin.SocialMedia.RSS",["$scope","$http",function(a,b){function c(){b.jsonp(String.format(d,encodeURIComponent(a.ControlData.RSSFeedUrl))).then(function(b){null!=b.data.responseData&&(a.RSSFeed=b.data.responseData.feed,a.Stories=a.RSSFeed.entries)})}var d="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q={0}",e=new Cerberus.Tool.TemplateEngine.Model.ControlPlugin.SocialMedia.RSS;a.$watch("TemplateControl.Content",function(){var b=a.ControlData||e;a.ControlData=JSON.tryParse(a.TemplateControl.Content,e),""===a.ControlData.RSSFeedUrl?(a.RSSFeed=null,a.Stories=[]):b.RSSFeedUrl!==a.ControlData.RSSFeedUrl&&a.ControlData.RSSFeedUrl.length&&(a.RSSFeed=null,a.Stories=[],c())})}]);