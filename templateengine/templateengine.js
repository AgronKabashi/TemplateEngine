"use strict";!function(a){var b={},c={registerModel:function(a,c){b[a]=c},getModelType:function(a){return b[a]},instantiateModel:function(a,c){return new b[a](c)}};a.module("Cerberus.ModelFactory",[]).factory("Cerberus.ModelFactory",function(){return c}),a.extend(a.module("Cerberus.ModelFactory"),c)}(window.angular),function(a,b,c){var d=c.getElementsByTagName("script"),e=d[d.length-1],f=c.location.origin.substr(0,c.location.href.lastIndexOf("/")+1),g=e.src.substr(0,e.src.lastIndexOf("/")+1).replace(f,""),h=a.module("Cerberus.TemplateEngine",["ngSanitize","Cerberus.ModelFactory"]).constant("templateEnginePath",g);b&&b.amd&&b([],h)}(window.angular,window.define,window.document),function(){String.format=function(){var a=arguments,b=a[0];return b.replace(/{(\d+)}/g,function(b,c){return c=~~c+1,"undefined"!=typeof a[c]?a[c]:b})},window.tryParseInt=function(a){var b=parseInt(a);return isNaN(b)?0:b},window.tryParseFloat=function(a){var b=parseFloat(a);return isNaN(b)?0:b},JSON.tryParse=function(a,b){var c;try{c=this.parse(a)}catch(d){c=b}return c}}(),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Basic.RTF",function(){})}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Basic.Text",function(){})}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Basic.Video",[a.noop]).directive("csVideo",[function(){return{restrict:"A",link:function(a,b){var c=b.get(0),d=c.getElementsByTagName("source"),e=d[0],f=d[1],g=a.$watch("component.content",function(){var b=a.component.content,d=!1,g=e.getAttribute("src")||void 0,h=f.getAttribute("src")||void 0;c.preload=b.autoPlay?"auto":"metadata",c.loop=b.loopInfinitely,c.controls=b.showControls,c.autoplay=b.autoPlay,g!==b.mp4SourceUrl&&(b.mp4SourceUrl?e.setAttribute("src",b.mp4SourceUrl):e.removeAttribute("src"),d=!0),h!==b.oggSourceUrl&&(b.oggSourceUrl?f.setAttribute("src",b.oggSourceUrl):f.removeAttribute("src"),d=!0),d&&c.load()},!0);a.$on("$destroy",g)}}}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Basic.YouTube",["$scope",function(a){var b="http://www.youtube.com/embed/{0}?wmode=transparent&start={1}&autoplay={2}&controls={3}&disablekb={4}&loop={5}&modestbranding={6}&showinfo={7}",c=a.$watch("component.content",function(){var c=a.component.content;return c.videoId?void(a.videoUrl=String.format(b,c.videoId,~~c.startTime,~~c.autoPlay,~~c.showControls,~~c.disableKeyboard,~~c.loopInfinitely,~~c.hideYouTubeBrand,~~c.showVideoInfo)):void(a.videoUrl="about:blank")},!0);a.$on("$destroy",c)}])}(window.angular),function(a){function b(a,b,c){function d(){c.whenIsAuthorized().then(function(){f=!0,a.authorizationFailed=!1})["catch"](function(b){a.authorizationFailed=!0,e(b)})}function e(b){var c=b.status;a.isAuthorizationError=!1,0>=c?a.message="There seems to be a problem with your internet connection.":c>=400&&500>c&&(a.isAuthorizationError=!0,a.message=f?"You seem to have been logged out due to inactivity.":"You need to be signed in to use Gmail features.")}var f=!1;d(),b.subscribe(["Gmail.Reauthorized","Gmail.RequestFailed"],d),a.authorize=function(){c.authorizeUser()},a.$on("$destroy",function(){b.unsubscribe("Gmail.Reauthorized",d),b.unsubscribe("Gmail.RequestFailed",d)})}a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Gmail.Authorization",["$scope","Cerberus.TemplateEngine.Service.Event","Cerberus.TemplateEngine.Service.Gmail",b])}(window.angular),function(a){function b(a,b,c,d){function e(){d.getUserLabels().then(function(b){a.labels=d.getSystemLabels().concat(b)})}e(),a.selectedLabel={name:"Inbox",id:b.INBOX},a.onClickLabel=function(b){a.selectedLabel=b,c.notify("Gmail.ViewLabel",b)},c.subscribe("Gmail.Reauthorized",e),a.$on("$destroy",function(){c.unsubscribe("Gmail.Reauthorized",e)})}a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Gmail.LabelList",["$scope","Cerberus.TemplateEngine.Constant.Gmail.Labels","Cerberus.TemplateEngine.Service.Event","Cerberus.TemplateEngine.Service.Gmail",b])}(window.angular),function(a){function b(a,b,c){function d(b){return void 0===b?void(a.message=void 0):void c.getMessage(b).then(function(b){a.message=b})}b.subscribe("Gmail.ViewMessage",d),a.$on("$destroy",function(){b.unsubscribe("Gmail.ViewMessage",d)})}a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Gmail.MessageContent",["$scope","Cerberus.TemplateEngine.Service.Event","Cerberus.TemplateEngine.Service.Gmail",b])}(window.angular),function(a){function b(a,b,c,d){function e(b){a.isLoading=!0,d.getMessages(b).then(function(b){a.isLoading=!1,a.messages=b,b&&a.onClickMessage(b[0])})["catch"](function(){a.isLoading=!1})}function f(a){e(a.id)}e(b.INBOX),c.subscribe("Gmail.ViewLabel",f),c.subscribe("Gmail.Reauthorized",e),a.onClickMessage=function(a){c.notify("Gmail.ViewMessage",a&&a.id)},a.$on("$destroy",function(){c.unsubscribe("Gmail.Reauthorized",e),c.unsubscribe("Gmail.ViewLabel",f)})}a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Gmail.MessageList",["$scope","Cerberus.TemplateEngine.Constant.Gmail.Labels","Cerberus.TemplateEngine.Service.Event","Cerberus.TemplateEngine.Service.Gmail",b])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.Navigation.Link",["$scope",function(a){a.content=a.component.content}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.SocialMedia.Rss",["$scope","$http",function(a,b){function c(c){return c?void b.jsonp(String.format(d,encodeURIComponent(c))).then(function(b){a.rssFeed=a.stories=void 0,b.data.responseData&&(a.rssFeed=b.data.responseData.feed,a.stories=a.rssFeed.entries)}):void(a.rssFeed=a.stories=void 0)}var d="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q={0}",e=a.$watch("component.content",function(){c(a.component.content.rssFeedUrl)},!0);a.$on("$destroy",e)}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").controller("Cerberus.TemplateEngine.Controller.Component.SocialMedia.Sharer",["$scope",function(a){var b=window.location.href;a.socialMedia={facebook:String.format("http://www.facebook.com/sharer/sharer.php?u={0}",b),twitter:String.format("http://twitter.com/intent/tweet?url={0}",b),googlePlus:String.format("https://plus.google.com/share?url={0}",b)}}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").directive("csComponent",[function(){return{restrict:"E",link:function(a,b){var c=a.component;b.attr({id:"TC"+c.id,"class":c.name.toLowerCase()})},controller:["$scope","$controller",function(a,b){b(a.component.componentType,{$scope:a})}]}}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").directive("csTemplate",["Cerberus.TemplateEngine.Service.DataBag",function(a){return{restrict:"E",scope:{},controller:["$scope","Cerberus.TemplateEngine.Service.Event","Cerberus.TemplateEngine.Service.PathResolver",function(b,c,d){b.template=a.getData("Template"),b.getComponentPath=function(a){return d.resolve(String.format("view/component/{0}/{1}.html",a.category,a.name))},c.subscribe("InitializeTemplate",function(a){b.template=a})}],template:function(a,b){var c="View"!==(b.templateMode||"View"),d="",e="";return c&&(d='friendly-name="{{component.friendlyName}}" component-name="{{component.name}}"',e='ng-attr-style="{{component.visualProperties}}"'),String.format('<cs-component ng-repeat="component in template.components track by component.id"               {0} {1}               ng-class="component.class"               ng-include="::getComponentPath(component)"></cs-component>',d,e)}}}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").filter("trustedHtml",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").filter("trustedUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}])}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component",function(){this.id=0,this.friendlyName="",this.name="",this.visualProperties="",this.componentType="",this.category="basic",this.creationGUID="",this["class"]="",this.content={}})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.Basic.Video",function(){this.mp4SourceUrl="",this.oggSourceUrl="",this.autoPlay=!1,this.showControls=!1,this.loopInfinitely=!1,this.posterUrl=""})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.Basic.YouTube",function(){this.videoId="",this.startTime="",this.autoPlay=!1,this.showControls=!0,this.disableKeyboard=!1,this.loopInfinitely=!1,this.hideYouTubeBrand=!1,this.showVideoInfo=!0,this.videoIdQueryParameter=""})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.Gmail.MessageList",function(){this.localization={emptyList:"",loading:""}})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.Navigation.Link",function(){this.url="",this.tooltip="",this.text="",this.target=""})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.SocialMedia.RSS",function(){this.rssFeedUrl="",this.showTitle=!0,this.showDescription=!0,this.showStoryDescription=!0,this.showStoryDate=!0,this.maxStories=5})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Component.SocialMedia.Sharer",function(){this.facebook=!0,this.twitter=!0,this.googlePlus=!0})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Resolution",function(a){this.id=0,this.resolutionValue=~~a||1e4,this.componentVisualProperties={}})}(window.angular),function(a){a.module("Cerberus.ModelFactory").registerModel("Cerberus.TemplateEngine.Model.Template",function(){this.name="",this.id=0,this.visualProperties="",this.createdDateAsString="",this.lastModifiedDateAsString="",this.components=[],this.resolutions=[]})}(window.angular),function(a){a.module("Cerberus.TemplateEngine").constant("Cerberus.TemplateEngine.TemplateMode",{editDesign:0,editContent:1,view:2})}(window.angular),function(a){function b(){this.load=function(a,b,c){var d=document.createElement("script");d.onload=d.onreadystatechanged=b,d.onerror=c,d.src=a,document.head.appendChild(d)}}a.module("Cerberus.TemplateEngine").service("Cerberus.TemplateEngine.Service.AsyncLoader",[b])}(window.angular),function(a){a.module("Cerberus.TemplateEngine").service("Cerberus.TemplateEngine.Service.DataBag",function(){var a={};this.addData=function(b,c){a[b.toLowerCase()]=c},this.getData=function(b){return a[b.toLowerCase()]},this.removeData=function(b){delete a[b.toLowerCase()]}})}(window.angular),function(a,b){function c(a){var c={},d=!1;this.hasEventsOfType=function(a){return void 0!==c[a]},this.subscribe=function(a,d,e){var f,g=b.isArray(a)?a:[a];b.forEach(g,function(a){f=c[a]||(c[a]=[]),e&&(d=d.bind(e)),f.push(d)})},this.unsubscribe=function(a,d){var e=c[a];e&&(b.remove(e,function(a){return a===d}),e.length||delete c[a])},this.unsubscribeAll=function(a){delete c[a]},this.notify=function(e,f,g){var h=!1;d||(d=!0,h=!0);var i=c[e];b.forEach(i,function(a){a&&a(f,g)}),h&&setTimeout(function(){d=!1,a.$digest()})},this.clear=function(){c={}}}a.module("Cerberus.TemplateEngine").service("Cerberus.TemplateEngine.Service.Event",["$rootScope",c])}(window.angular,window._),function(a){a.module("Cerberus.TemplateEngine").service("Google.API",["$q","Cerberus.TemplateEngine.Service.AsyncLoader",function(b,c){function d(a){a&&!a.error?g.resolve(window.gapi):g.reject({status:401,statusText:"Authorization failed. Could not authorize user."})}function e(b){var c=b.result.error.code,d=b.result.error.message;Object.getOwnPropertyNames(b).forEach(function(a){delete b[a]}),a.extend(b,{status:c,statusMessage:d})}var f="https://apis.google.com/js/client.js?onload=googleApiLoaderHook",g=b.defer(),h=b.defer();window.googleApiLoaderHook=function(){h.resolve(),delete window.googleApiLoaderHook},this.authorize=function(a){a.reissuePromise&&(g.reject(),g=b.defer()),window.gapi.auth.authorize({client_id:a.clientId,scope:a.scopes,immediate:a.immediate},d)},this.createBatch=function(){return window.gapi.client.newBatch()},this.request=function(a,b){b=b||{};var c=window.gapi.client.request({path:a,method:b.body?"POST":"GET",params:b.params,body:b.body});return b.isBatchRequest||c.then(null,e),c},this.whenIsReady=function(){return h.promise},this.dropAuthorization=function(){g&&g.reject(),g=b.defer(),g.reject({status:401,statusText:"Authorization failed. Could not authorize user."})},this.whenIsAuthorized=function(){return g.promise},c.load(f,null,function(){h.reject({status:-1,statusMessage:"Network unavailable. Check your internet connection."})})}])}(window.angular),function(a,b){var c="847658075745-leq2ks7v2ambuq8tj18v4c7qpkg17mln.apps.googleusercontent.com",d=["https://www.googleapis.com/auth/gmail.readonly"];a.module("Cerberus.TemplateEngine").constant("Cerberus.TemplateEngine.Constant.Gmail.Labels",{INBOX:"INBOX",SENT:"SENT",DRAFT:"DRAFT",TRASH:"TRASH"}).service("Cerberus.TemplateEngine.Service.Gmail",["$q","Cerberus.TemplateEngine.Constant.Gmail.Labels","Google.API","Cerberus.TemplateEngine.Service.Event",function(a,e,f,g){function h(a){var b=a.result.messages;if(0===a.result.resultSizeEstimate)return[];var c=f.createBatch(),d={isBatchRequest:!0,params:{format:"metadata"}};return b.forEach(function(a){c.add(f.request("/gmail/v1/users/me/messages/"+a.id,d),{id:a.id})}),c.then(function(a){var b=[];for(var c in a.result)b.push(j(c,a.result[c].result));return b})}function i(a){f.dropAuthorization(),g.notify("Gmail.RequestFailed",a)}function j(a,b){var c,d=b.payload,e={id:a,plainText:"",htmlText:"",snippet:b.snippet,isRead:b.labelIds.indexOf("UNREAD")<0,isStarred:b.labelIds.indexOf("STARRED")>=0};if(d.parts)for(c=0;c<d.parts.length;c++)"text/plain"===d.parts[c].mimeType&&(e.plainText+=d.parts[c].body.data),"text/html"===d.parts[c].mimeType&&(e.htmlText+=d.parts[c].body.data);else d.body&&(e.htmlText=d.body.data);if(e.htmlText){e.htmlText=e.htmlText.replace(/-/g,"+").replace(/_/g,"/"),e.htmlText=decodeURIComponent(escape(window.atob(e.htmlText)));var f=e.htmlText.indexOf("<body");f>=0&&(f+=5,e.htmlText="<div"+e.htmlText.substring(f),e.htmlText=e.htmlText.substring(0,e.htmlText.indexOf("</body"))+"</div>")}var g;for(c=0;c<d.headers.length;c++)switch(g=d.headers[c],g.name){case"Subject":e.subject=g.value;break;case"Received":e.received=g.value;break;case"Date":e.date=new Date(g.value).toLocaleString();break;case"From":e.from=k(g.value);break;case"To":e.to=k(g.value)}return e}function k(a){var b=a.indexOf("<");return{address:a.substring(b,a.length-1),name:a.substring(0,b)}}f.whenIsReady().then(function(){f.authorize({clientId:c,scopes:d,immediate:!0})}),this.authorizeUser=function(){f.authorize({clientId:c,scopes:d,reissuePromise:!0}),f.whenIsAuthorized().then(function(){g.notify("Gmail.Reauthorized")},i)},this.getSystemLabels=function(){return[{id:e.INBOX,name:"Inbox"},{id:e.SENT,name:"Sent"},{id:e.DRAFT,name:"Draft"},{id:e.TRASH,name:"Trash"}]},this.getUserLabels=function(){return this.whenIsAuthorized().then(function(){return f.request("/gmail/v1/users/me/labels").then(function(a){return b.filter(a.result.labels,function(a){return"user"===a.type&&(void 0===a.labelListVisibility||"labelShow"===a.labelListVisibility)})},i)})},this.getMessage=function(a){return this.whenIsAuthorized().then(function(){return f.request("/gmail/v1/users/me/messages/"+a,{params:{format:"full"}}).then(function(a){return j(a.result.id,a.result)},i)})},this.getMessages=function(a,b){return b=b||{},this.whenIsAuthorized().then(function(){return f.request("/gmail/v1/users/me/messages",{params:{labelIds:a,maxResults:b.maxResults,pageToken:b.pageToken,query:b.query}}).then(h,i)})},this.whenIsAuthorized=function(){return a.all([f.whenIsReady(),f.whenIsAuthorized()])}}])}(window.angular,window._),function(a){a.module("Cerberus.TemplateEngine").service("Cerberus.TemplateEngine.Service.PathResolver",["templateEnginePath",function(a){this.resolve=function(b){return a+b}}])}(window.angular),function(a){var b=a.module("Cerberus.ModelFactory");a.module("Cerberus.TemplateEngine").provider("Cerberus.TemplateEngine.Service.Template",[function(){var a=b.getModelType("Cerberus.TemplateEngine.Service.TemplateLocalStorageProvider"),c=null;this.setProvider=function(b,d){a=b,c=d},this.$get=["$injector",function(b){var d=b.instantiate(a);return c&&d.configure(c),d}]}])}(window.angular),function(a,b,c){function d(a){function d(){c.setItem("TemplateRepository",JSON.stringify(f))}var f=JSON.parse(c.getItem("TemplateRepository"));f&&f.templates||(f={templates:{}}),this.configure=function(){},this.getTemplate=function(b,c,d){return a.when(f.templates[b])},this.removeTemplate=function(b){return delete f.templates[b],d(),a.when(!0)},this.saveTemplate=function(c){return a.when(c).then(function(a){a.id<=0&&(a.id=~~b.max(f.templates,function(a){return a.id}).id+1),f.templates[a.id]=a,a.resolutions.length||a.resolutions.push(e.instantiateModel("Cerberus.TemplateEngine.Model.Resolution"));var c=a.components,g=a.resolutions,h=b.filter(g,function(a){return 0===a.id}),i=~~Math.max(0,b.max(c,function(a){return a.id}).id),j=~~Math.max(0,b.max(g,function(a){return a.id}).id),k=b.filter(c,function(a){return a.id<0});return b.forEach(h,function(a){a.id=++j}),b.forEach(k,function(a){var c=a.id;a.id=++i,b.forEach(g,function(b){b.componentVisualProperties[a.id]=b.componentVisualProperties[c],delete b.componentVisualProperties[c]})}),f.templates[a.id]=a,d(),a})},this.cloneTemplate=function(a,b,c){},this.getTemplates=function(){var c=b.map(f.templates,function(a){return a});return a.when(c)},this.getTemplateInfo=function(a){return this.getTemplate(a)},this.saveTemplateInfo=function(a){},this.getDocument=function(a,b,c){},this.saveDocument=function(a,b,c){},this.getComponentPlugins=function(){return a.when([{id:1,name:"text",category:"basic",componentType:"Cerberus.TemplateEngine.Controller.Component.Basic.Text",imageUrl:"text.png"},{id:2,name:"video",category:"basic",componentType:"Cerberus.TemplateEngine.Controller.Component.Basic.Video",imageUrl:"video.png"},{id:3,name:"youTube",category:"basic",componentType:"Cerberus.TemplateEngine.Controller.Component.Basic.YouTube",imageUrl:"youTube.png"},{id:4,name:"link",category:"navigation",componentType:"Cerberus.TemplateEngine.Controller.Component.Navigation.Link",imageUrl:"link.png"},{id:5,name:"rss",category:"socialMedia",componentType:"Cerberus.TemplateEngine.Controller.Component.SocialMedia.Rss",imageUrl:"rss.png"},{id:6,name:"sharer",category:"socialMedia",componentType:"Cerberus.TemplateEngine.Controller.Component.SocialMedia.Sharer",imageUrl:"sharer.png"},{id:7,name:"labelList",category:"gmail",componentType:"Cerberus.TemplateEngine.Controller.Component.Gmail.LabelList",imageUrl:"gmail.png"},{id:8,name:"messageList",category:"gmail",componentType:"Cerberus.TemplateEngine.Controller.Component.Gmail.MessageList",imageUrl:"gmail.png"},{id:9,name:"messageContent",category:"gmail",componentType:"Cerberus.TemplateEngine.Controller.Component.Gmail.MessageContent",imageUrl:"gmail.png"},{id:10,name:"authorization",category:"gmail",componentType:"Cerberus.TemplateEngine.Controller.Component.Gmail.Authorization",imageUrl:"gmail.png"}])}}var e=a.module("Cerberus.ModelFactory");e.registerModel("Cerberus.TemplateEngine.Service.TemplateLocalStorageProvider",a.extend(d,{$inject:["$q"]}))}(window.angular,window._,window.localStorage),function(a){function b(b,c){function d(a){var b=c.defer();return a.then(function(a){b.resolve(a.data)})["catch"](function(){b.reject()}),b.promise}function e(){return a.extend([],arguments).slice(0).join("/")}function f(){var a=c.defer();return a.resolve(),a.promise}function g(){var a=c.defer();return a.reject(),a.promise}var h="";this.configure=function(a){h=a},this.getTemplate=function(a){return a>0?d(b.get(e(h,"template",~~a))):f()},this.removeTemplate=function(a){return a>0?d(b["delete"](e(h,"template",~~a))):g()},this.saveTemplate=function(a){return void 0!==a?d(b.put(e(h,"template"),a)):g()},this.cloneTemplate=function(a){return a>0?d(b.post(e(h,"template",~~a,"clone"))):g()},this.getTemplates=function(){return d(b.get(e(h,"templates")))},this.getTemplateInfo=function(a){return a>0?d(b.get(e(h,"templateinfo",~~a))):f()},this.saveTemplateInfo=function(a){return void 0!==a?d(b.put(e(h,"templateinfo"),a)):g()},this.getDocument=function(a,c,f){return d(b.get(e(h,"templatecontent",~~a,~~c,~~f)))},this.saveDocument=function(a,c,f){return d(b.put(e(h,"templatecontent",~~c,f),a))},this.getComponentPlugins=function(){return d(b.get(e(h,"componentplugins")))}}var c=a.module("Cerberus.ModelFactory");c.registerModel("Cerberus.TemplateEngine.Service.TemplateRestProvider",a.extend(b,{$inject:["$http","$q"]}))}(window.angular),function(a){a.module("Cerberus.TemplateEngine").run(["$templateCache","templateEnginePath",function(a,b){a.put(b+"view/component/basic/rtf.html","<span ng-bind-html=component.content.text></span>"),a.put(b+"view/component/basic/text.html","<pre ng-bind=component.content.text></pre>"),a.put(b+"view/component/basic/video.html",' <video cs-video poster="{{component.content.posterUrl | trustedUrl}}">  <source type="video/mp4"> <source type="video/ogg"> </video>'),a.put(b+"view/component/basic/youTube.html",'<div class=youtube> <iframe ng-src="{{videoUrl | trustedUrl}}" frameborder=0 allowfullscreen></iframe> <div ng-class="{\'valid-link\': isValidLink}"></div> </div>'),a.put(b+"view/component/gmail/authorization.html",'<div class=authorizeContainer ng-if=authorizationFailed> <div class=authorizeDialog> <span class=info ng-bind=message></span> <button ng-click=authorize() ng-if=isAuthorizationError> <svg width=24 height=14 xmlns=http://www.w3.org/2000/svg> <path d="m7.07424,6.05677l0,2.4l3.97,0c-0.16,1.03 -1.2,3.02 -3.97,3.02c-2.39,0 -4.34,-1.98 -4.34,-4.42c0,-2.44 1.95,-4.42 4.34,-4.42c1.36,0 2.27,0.58 2.79,1.08l1.9,-1.83c-1.22,-1.14 -2.8,-1.83 -4.69,-1.83c-3.87,0 -7,3.13 -7,7c0,3.87 3.13,7 7,7c4.04,0 6.72,-2.84 6.72,-6.84c0,-0.46 -0.05,-0.81 -0.11,-1.16l-6.61,0l0,0z"></path> <path d=m22.07424,6.05677l-2,0l0,-2l-2,0l0,2l-2,0l0,2l2,0l0,2l2,0l0,-2l2,0></path> </svg> <span>Sign in with Google</span> </button> </div> </div>'),a.put(b+"view/component/gmail/labelList.html",'<input type=checkbox ng-attr-id="hamburger{{::component.id}}"> <label ng-attr-current-label={{selectedLabel.name}} ng-attr-for=hamburger{{::component.id}}> <svg class=hamburger-icon xmlns=http://www.w3.org/2000/svg viewBox="0 0 30 30" preserveAspectRatio=xMinYMin> <rect width=30 height=6></rect> <rect y=24 width=30 height=6></rect> <rect y=12 width=30 height=6></rect> </svg> <ul class=list> <li class=list-item ng-repeat="label in ::labels track by label.id" ng-bind=::label.name ng-class="{ selected: label.id === selectedLabel.id }" ng-click=onClickLabel(label)></li> </ul> </label>'),a.put(b+"view/component/gmail/messageContent.html",'<h2 class=subject ng-bind=message.subject></h2> <span class=from ng-bind=message.from.name></span> <span class=to ng-bind=message.to.name></span> <span class=date ng-bind=message.date></span> <div ng-bind-html="message.htmlText | trustedHtml"></div>'),a.put(b+"view/component/gmail/messageList.html",'<div class=empty-list ng-if="messages && !messages.length && !isLoading" ng-bind=::component.content.localization.emptyList></div> <ul class=list ng-class="{loading: isLoading}" ng-attr-loading={{::component.content.localization.loading}}> <li class=list-item ng-repeat="message in messages track by message.id" ng-class="::{\'is-read\': message.isRead, \'is-starred\': message.isStarred}" ng-click=onClickMessage(message)> <div class=avatar ng-attr-initial={{::message.from.name[0]}}></div> <div class=meta-info> <span class=from ng-bind=::message.from.name></span> <span class=subject ng-bind=::message.subject></span> <span class=snippet ng-bind=::message.snippet></span> </div> </li> </ul>'),a.put(b+"view/component/navigation/link.html",'<a ng-href="{{ content.url }}" title="{{ content.tooltip }}" target="{{ content.target }}" ng-bind=content.text></a>'),a.put(b+"view/component/socialMedia/rss.html",'<h1 ng-bind=rssFeed.title ng-show=component.content.showTitle></h1> <span ng-bind=rssFeed.description ng-show=component.content.showDescription></span> <ul> <li ng-repeat="story in stories|limitTo:component.content.maxStories"> <span class=date ng-bind=::story.publishedDate ng-show=component.content.showStoryDate></span> <a ng-href={{::story.link}} ng-bind=::story.title></a> <span ng-bind=::story.contentSnippet ng-show=component.content.showStoryDescription></span> </li> </ul>'),a.put(b+"view/component/socialMedia/sharer.html",'<a target=_blank ng-attr-href={{::socialMedia.facebook}} class="social-media-icon facebook" ng-show=component.content.facebook></a> <a target=_blank ng-attr-href={{::socialMedia.twitter}} class="social-media-icon twitter" ng-show=component.content.twitter></a> <a target=_blank ng-attr-href={{::socialMedia.googlePlus}} class="social-media-icon google-plus" ng-show=component.content.googlePlus></a>')}])}(window.angular);